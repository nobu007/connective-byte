# アーキテクチャ設計書

このドキュメントはConnectiveByteプロジェクトのアーキテクチャについて記述します。

## 概要

ConnectiveByteは、モノレポ構成を採用したWebアプリケーションフレームワークです。フロントエンド、バックエンド、共通ライブラリなどが一つのリポジトリで管理されています。

## ディレクトリ構造

```
ConnectiveByte/
├── apps/                  # 各アプリケーション
│   ├── frontend/        # Next.jsによるフロントエンド
│   ├── backend/         # Express.jsによるバックエンドAPI
│   └── bot/             # チャットボット
├── libs/                  # 共通ライブラリ
│   ├── components/      # Reactコンポーネント
│   ├── logic/           # ビジネスロジック
│   └── design/          # デザインシステム
├── docs/                  # ドキュメント
└── netlify.toml           # Netlifyデプロイ設定
```

## フロントエンド (apps/frontend)

- **フレームワーク**: Next.js
- **責務**: UIのレンダリング、ユーザーインタラクションの処理、バックエンドAPIとの通信を担当します。
- **主要なディレクトリ**:
  - `app/`: App Routerに基づいたルーティングとページコンポーネント
  - `components/`: アプリケーション固有のReactコンポーネント
  - `styles/`: グローバルなCSSスタイル

## バックエンド (apps/backend)

- **フレームワーク**: Express.js (推定)
- **責務**: ビジネスロジックの実行、データベースとのやり取り、フロントエンドへのAPI提供を担当します。
- **主要なファイル**:
  - `src/index.ts`: アプリケーションのエントリーポイント

## 共通ライブラリ (libs)

- **目的**: 複数のアプリケーション間で共有されるコードを配置し、再利用性を高めます。
- `libs/components`: 複数のアプリケーションで利用可能なUIコンポーネント（ボタン、フォームなど）。
- `libs/logic`: 認証、バリデーション、データ整形など、アプリケーションをまたいで利用されるビジネスロジック。
- `libs/design`: カラーパレット、タイポグラフィ、スペーシングなどのデザイン定義。

## データフロー

1. ユーザーがフロントエンドアプリケーションにアクセスします。
2. Next.jsがページをレンダリングし、必要に応じてバックエンドAPIにデータ取得のリクエストを送信します。
3. バックエンドAPIはリクエストを受け取り、ビジネスロジックを実行してデータベースなどからデータを取得します。
4. バックエンドAPIは処理結果をJSON形式でフロントエンドに返却します。
5. フロントエンドは受け取ったデータを元にUIを更新します。
