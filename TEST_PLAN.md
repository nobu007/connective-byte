# 包括的試験計画書 (TEST_PLAN.md)

## 1. 試験概要

本計画は、`connective-byte` プロジェクトの品質を保証するため、`SYSTEM_ANALYSIS.md` の分析結果に基づき、フロントエンド、バックエンド、および両者の連携にわたる包括的な試験を定義するものである。

- **対象システム**: `connective-byte` プロジェクト全体
- **目標品質指標**:
  - **システム全体成功率**: 95%以上
  - **クリティカルな問題**: 0件
  - **コードカバレッジ**: Backendのテストカバレッジ50%以上を初期目標とする。

## 2. 試験カテゴリと優先度

| 試験カテゴリ           | 優先度 | 対象と目的                                                                                                      |
| :--------------------- | :----- | :-------------------------------------------------------------------------------------------------------------- |
| **単体試験**           | **高** | **Backend**: 各APIエンドポイントとビジネスロジックの動作確認。<br>**Frontend**: 既存のJestテストの維持・拡充。  |
| **統合試験**           | **中** | **Backend-Frontend**: フロントエンドからのAPI呼び出しが正しく処理され、期待通りのデータが返却されることを確認。 |
| **システム試験 (E2E)** | **高** | **Frontend**: Playwrightによる主要なユーザーシナリオ（ページ表示、フォーム操作など）の動作確認。                |
| **障害試験**           | **低** | 異常な入力やAPIエラー発生時のエラーハンドリングとシステムの回復性を確認。                                       |
| **性能試験**           | **低** | 主要APIのレスポンスタイムを簡易的に計測し、ボトルネックがないかを確認。                                         |

## 3. 試験項目詳細と実行計画

### Phase A: 単体試験 (Unit Testing)

**目的:** 各アプリケーションのコンポーネントが個別に正しく動作することを確認する。

| ID  | 試験項目                         | 実行手順                                                                                               | 成功基準                                         |
| :-- | :------------------------------- | :----------------------------------------------------------------------------------------------------- | :----------------------------------------------- |
| A-1 | **Frontend: 既存単体試験**       | `cd apps/frontend && npm test` を実行。                                                                | 既存の全テストケースが成功する。                 |
| A-2 | **Backend: 既存単体試験**        | `cd apps/backend && npm test` を実行。                                                                 | 既存の全テストケースが成功する。                 |
| A-3 | **Backend: 新規単体試験 (追加)** | (必要に応じて) `supertest` を用いて、未テストのAPIエンドポイントに対するテストケースを作成・追加する。 | 新規テストケースが成功し、カバレッジが向上する。 |

### Phase B: 統合・システム試験 (Integration & System Testing)

**目的:** 複数のコンポーネントを連携させ、システム全体として正しく動作することを確認する。

| ID  | 試験項目                 | 実行手順                                                                                     | 成功基準                                                                          |
| :-- | :----------------------- | :------------------------------------------------------------------------------------------- | :-------------------------------------------------------------------------------- |
| B-1 | **System: E2Eテスト**    | `cd apps/frontend && npm run test:e2e` を実行。                                              | Playwrightによる全E2Eテストシナリオが成功する。                                   |
| B-2 | **Integration: API連携** | フロントエンドを起動し、主要な機能（データ表示、更新など）を手動または自動テストで操作する。 | フロントエンドがバックエンドAPIからデータを正しく取得・更新でき、UIに反映される。 |

### Phase C: 応用試験 (Advanced Testing)

**目的:** 非機能要件（エラー耐性、性能）を検証する。

| ID  | 試験項目                       | 実行手順                                                                                | 成功基準                                                                     |
| :-- | :----------------------------- | :-------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------- |
| C-1 | **障害試験: APIエラー**        | バックエンドAPIを意図的に停止またはエラーを返すように変更し、フロントエンドを操作する。 | フロントエンドがクラッシュせず、ユーザーに適切なエラーメッセージを表示する。 |
| C-2 | **性能試験: レスポンスタイム** | `time` コマンドやブラウザの開発者ツールを使い、主要APIのレスポンスタイムを計測する。    | レスポンスタイムに極端な遅延（例: 2秒以上）が見られない。                    |

## 4. 実行スケジュール

- **Day 1**: Phase A (単体試験) の実施と結果確認。
- **Day 2**: Phase B (統合・システム試験) の実施と結果確認。
- **Day 3**: Phase C (応用試験) の実施と、全結果の分析・レポート作成。

## 5. 進捗管理

- 全ての試験結果と進捗は `TEST_PROGRESS.md` に記録する。
- 各試験項目の完了時に、結果（成功/失敗）、ログ、特記事項を追記する。
